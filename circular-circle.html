<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <canvas id="canvas" width="2000" height="1020"></canvas>
</body>

</html>
<script>
    var canvas = document.getElementById("canvas")
    var ctx = canvas.getContext("2d")

    //ctx.fillRect(453,345,457,498)
    var x = []
    var y = []
    var speed = []
    var speedy = []
    var color = []
    var ball = 1
    var radius = []
    var d = 0
    var tim = 0
    document.getElementById("canvas").addEventListener("click", makebouncyball)
    function makebouncyball(event) {
        // ball = ball + 1
        var mousex = event.clientX;
        var mousey = event.clientY;

        //code to create circles
        x.push(mousex)
        y.push(mousey)
        speed.push(Math.random() * 30 - 20)
        speedy.push(Math.random() * 30 - 20)
        color.push(Math.random() * 360)
        radius.push(Math.random() * 90 + 10)

    }

    setInterval(move, 50)


    function move() {

        ctx.clearRect(0, 0, 10000, 10000)

        for (i = 0; i < x.length; i = i + 1) {
            for (j = 0; j < x.length; j = j + 1) {

                // if(position[i]===position[j]){
                //  speed[i]=-speed[j]
                //  speedy[i]=-speedy[j]

                if (i !== j) {//if one circle is not another circle
                    var a = x[i] - x[j]
                    var b = y[i] - y[j]
                    var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))
                    if (radius[i] + radius[j] >= c) { //if the circles radiuses are greater than the distance then they are coliding 

                        tim = speed[i]
                        speed[i] = speed[j]
                        speed[j] = tim
                        tim = speedy[j]
                        speedy[j] = speedy[i]
                        speedy[i] = tim

                    }
                }

            }

            ctx.beginPath()
            ctx.arc(x[i], y[i], radius[i], 0, Math.PI * 2)
            ctx.fillStyle = "hsl(" + color[i] + ",100%,50%)"
            ctx.fill()
            x[i] = x[i] + speed[i]
            y[i] = y[i] + speedy[i]

            if (x[i] >= 1900) {
                speed[i] = -Math.abs(speed[i])

            }

            if (x[i] <= -1) {
                speed[i] = Math.abs(speed[i])

            }
            if (y[i] >= 1000) {
                speedy[i] = -Math.abs(speedy[i])

            }
            if (y[i] <= -1) {
                speedy[i] = Math.abs(speedy[i])

            }




        }



    }

    

</script>